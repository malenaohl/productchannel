<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Existing links and meta tags -->
    <!-- Material Symbols for icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&display=swap" />
    <!-- Back arrow and close icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&icon_names=arrow_back_ios_new|close" />
    <!-- Noto Sans font -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@200..700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Title and Meta Description -->
    <title>Hallucinated #product channels</title>
    <meta name="description" content="What does AI think product teams are talking about on Slack? See how AI imagines the #product channels of Notion, Stripe, and other top tech companies.">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Hallucinated #product channels">
    <meta property="og:description" content="What does AI think product teams are talking about on Slack? See how AI imagines the #product channels of Notion, Stripe, and other top tech companies.">
    <meta property="og:type" content="website">
     <meta property="og:image" content="https://github.com/malenaohl/productchannel/blob/main/Product%20Channel%20OG%20Image.jpeg">
    
    <style>
        /* General CSS Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans', sans-serif;
        }
        body {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Left Navigation */
        #left-nav {
            width: 300px;
            background-color: #382c96;
            color: white;
            position: relative;
            padding: 20px;
            flex-shrink: 0;
            display: block;
        }
        .workspace-selector {
            display: flex;
            align-items: center;
            position: relative;
            cursor: pointer;
            padding: 10px 0;
        }
        .workspace-icon-container {
            position: relative;
            width: 40px;
            margin-right: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .workspace-icon {
            width: 40px;
            height: 40px;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            z-index: 3;
        }
        .workspace-icon img {
            max-height: 40px;
            max-width: 40px;
            object-fit: contain;
        }
        .cascade-icon {
            background-color: white;
            border-radius: 8px;
            opacity: 0.75; /* Initial opacity */
            transition: opacity 0.3s ease;
            margin-top: 5px;
        }
        .cascade-icon.first {
            width: 36px; /* 20% smaller than 40px */
            height: 32px;
            opacity: 0.60; /* 25% less than 100% */
            margin-top: -29px;
        }
        .cascade-icon.second {
            width: 32.4px; /* 20% smaller than 32px */
            height: 25.6px;
            opacity: 0.40; /* 25% less than 0.75 */
            margin-top:-22px;
        }
        .workspace-selector:hover .cascade-icon {
            opacity: 0;
        }
        .workspace-title {
            font-weight: bold;
            font-size: 18px;
        }
        .workspace-dropdown {
            position: absolute;
            margin-top:10px;
            top: 60px;
            background-color: #130080;
            border-radius: 8px;
            display: none;
            padding: 10px;
            width: calc(100%); /* 20px padding on each side */
            z-index: 1000;
        }
        .workspace-dropdown div {
            padding: 10px;
            cursor: pointer;
        }
        .workspace-dropdown div:hover {
            background-color: #1f1f5e;
        }
        .workspace-dropdown img {
            width: 30px;
            height: 30px;
            margin-right: 10px;
            vertical-align: middle;
        }
        .channel-list {
            margin-top: 20px;
        }
        .channel {
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
        }
        .channel.selected {
            background-color: #130080;
            color: #E9D8FD;
        }

        .mention {
        color: #1264A3; /* Slack-like blue color */
        text-decoration: none;
        cursor: pointer;
        }
        
        .mention:hover {
        text-decoration: underline;
        }

        /* Hide mobile workspace list on desktop */
        #mobile-workspace-list {
            display: none;
        }

        /* Main Content Area */
        #main-content {
            background-color: #FFFFFF;
            position: relative;
            padding-left: 20px;
            padding-right: 20px;
            padding-bottom: 20px;
            overflow-y: auto;
            flex-grow: 1;
            transition: margin-right 0.3s ease;
            z-index: 1;
            display: flex;
            flex-direction: column;
        }
        #main-content.drawer-open {
            margin-right: 350px;
        }
        .channel-info {
            display: flex;
            align-items: center;
            position: sticky;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #FFFFFF;
            padding-top: 20px;
            padding-bottom: 20px;
            z-index: 10;
            transition: border-bottom 0.3s ease;
        }
        .channel-info.scrolled {
            border-bottom: 1px solid #E0E0E0;
        }
        .channel-title {
            font-size: 20px;
            font-weight: bold;
            white-space: nowrap; /* Prevents wrapping */
            display: flex;
            align-items: center;
        }
        .channel-title .hash-symbol {
            font-stretch: 180%;
            font-weight: lighter;
            font-size: 24px;
        }
        .back-arrow {
            display: none;
            font-size: 24px;
            cursor: pointer;
            margin-right: 10px;
        }
        .channel-description {
            font-size: 12px;
            color: #757575;
            margin-left: 20px;
            margin-top: 5px;
        }
        .member-thumbnails {
            display: flex;
            align-items: center;
            margin-left: auto;
        }
        .member-thumbnails img {
            width: 30px;
            height: 30px;
            border-radius: 8px;
            margin-left: -10px;
            border: 2px solid #FFFFFF;
        }
        .member-count {
            margin-left: 8px;
            font-size: 14px;
        }
        .date-divider {
            text-align: center;
            position: relative;
            margin: 10px 0;
            font-weight: 600;
            font-size: 14px;
        }
        .date-divider span {
            background-color: #FFFFFF;
            padding: 5px 15px;
            border-radius: 50px;
            border: 1px solid #E0E0E0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1;
        }
        .horizontal-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #E0E0E0;
            z-index: 0;
        }
        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }
        .profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 2px;
        }
        .message-content {
            display: block;
            margin-left: 12px;
            vertical-align: top;
        }
        .message-author {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 1px;
            cursor: pointer;
        }
        .time-stamp {
            font-size: 12px;
            color: #757575;
            margin-left: 9px; /* Moved 1px closer */
            font-weight: lighter;
        }
        .message-text {
            margin-bottom: 10px;
            line-height: 1.6;
            font-size: 14px;
            white-space: pre-wrap; /* Preserve line breaks */
        }
        .reactions {
            display: flex;
            margin-top: -5px;
            margin-bottom:2px;
        }
        .reaction {
            background-color: #F0F0F0;
            padding: 3px 8px;
            border-radius: 50px;
            display: inline-flex;
            align-items: center;
            margin-right: 10px;
        }
        .reaction .emoji {
            font-size: 12px;
            margin-right: 5px;
        }
        .reaction .count {
            color: #555555;
            font-size: 12px;
            font-weight: 325;
        }

        /* Drawer */
        #drawer {
            position: fixed;
            top: 0;
            right: -350px;
            width: 350px;
            height: 100%;
            background: #FFFFFF;
            box-shadow: -2px 0 16px rgba(0,0,0,0.1);
            padding: 20px;
            transition: right 0.3s ease;
            z-index: 11;
        }
        #drawer.open {
            right: 0;
        }
        #drawer .close-drawer, #drawer .drawer-back-arrow {
            position: absolute;
            top: 10px;
            cursor: pointer;
            color: #A0A0A0;
            font-size: 24px;
        }
        #drawer .close-drawer {
            right: 10px;
            display: inline-block;
        }
        #drawer .drawer-back-arrow {
            left: 10px;
            display: none;
        }
        #drawer .profile-picture {
            width: 300px;
            height: 300px;
            border-radius: 8px;
            margin: 40px auto;
            display: block;
        }
        .profile-name {
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            margin-top: 10px;
        }
        .bio {
            text-align: center;
            margin-top: 10px;
            font-size: 16px;
        }
        .status {
            text-align: center;
            margin-top: 10px;
            font-size: 14px;
            color: #757575;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            #left-nav {
                width: 100%;
                height: 100%;
                position: fixed;
                top: 0;
                left: -100%;
                z-index: 20;
                overflow-y: auto;
                transition: left 0.3s ease;
                padding-top: 60px;
            }
            #left-nav.show {
                left: 0;
            }
            .workspace-selector {
                display: none;
            }
            #desktop-channel-list {
                display: none;
            }
            #mobile-workspace-list {
                display: block;
            }
            .channel-list {
                margin-top: 0;
            }
            .channel {
                padding: 20px;
                font-size: 18px;
            }
            .channel.selected {
                background-color: #130080;
                color: #E9D8FD;
            }
            #main-content {
                margin-right: 0;
                flex-grow: 1;
            }
            #main-content.drawer-open {
                margin-right: 0;
            }
            .back-arrow {
                display: inline-flex;
            }
            .member-thumbnails {
                display: none;
            }
            #drawer {
                width: 100%;
                right: -100%;
            }
            #drawer.open {
                right: 0;
            }
            #drawer .profile-picture {
                width: 200px;
                height: 200px;
            }
            .pinned-message {
                display: block; /* Ensure pinned message is visible on mobile */
            }
            #drawer .close-drawer {
                display: none;
            }
            #drawer .drawer-back-arrow {
                display: inline-block;
            }
        }

        /* Pinned Message */
        .pinned-message {
            background: #F9F9F9;
            padding: 15px;
            text-align: center;
            border-radius: 8px;
            border: 1px solid #E0E0E0;
            color: #757575;
            margin: 40px 0;
            position: sticky;
            bottom: 0;
            left: 0;
            font-size:12px;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 15;
        }
        .modal-content {
            background: #FFFFFF;
            width: 760px;
            max-width: 90%;
            padding: 40px;
            border-radius: 8px;
            text-align: center;
            font-size: 14px;
            line-height: 1.6;
            position: relative;
        }
        .modal-content .close-modal {
            position: absolute;
            top: 10px;
            left: 10px;
            cursor: pointer;
            color: #A0A0A0;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <!-- Left Navigation -->
    <div id="left-nav">
        <!-- Desktop Workspace Selector -->
        <div class="workspace-selector" id="workspace-selector">
            <div class="workspace-icon-container">
                <div class="workspace-icon">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Notion_app_logo.png" alt="Notion Logo">
                </div>
                <div class="cascade-icon first"></div>
                <div class="cascade-icon second"></div>
            </div>
            <span class="workspace-title">Notion</span>
            <div class="workspace-dropdown" id="workspace-dropdown">
                <div onclick="changeWorkspace('Notion', 'https://upload.wikimedia.org/wikipedia/commons/4/45/Notion_app_logo.png')"><img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Notion_app_logo.png" alt="Notion"> Notion</div>
                <div onclick="changeWorkspace('Linear', 'https://pageflows.com/media/logos/linear.png')"><img src="https://pageflows.com/media/logos/linear.png" alt="Linear"> Linear</div>
                <div onclick="changeWorkspace('Stripe', 'https://pbs.twimg.com/profile_images/1618575477781807105/iDuRlqTe_400x400.jpg')"><img src="https://pbs.twimg.com/profile_images/1618575477781807105/iDuRlqTe_400x400.jpg" alt="Stripe"> Stripe</div>
                <div onclick="changeWorkspace('Airtable', 'https://cdn.prod.website-files.com/625d41a24ba26520fa739e33/62cb2323b008c0f333f24b82_628d09d1fddf444893db0476_airtable%2520logo.png')"><img src="https://cdn.prod.website-files.com/625d41a24ba26520fa739e33/62cb2323b008c0f333f24b82_628d09d1fddf444893db0476_airtable%2520logo.png" alt="Airtable"> Airtable</div>
                <div onclick="changeWorkspace('Figma', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSoUX5LMRa7atIsNfl0nP3DaUaV4URhV0PHfA&s')"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSoUX5LMRa7atIsNfl0nP3DaUaV4URhV0PHfA&s" alt="Figma"> Figma</div>
                <div onclick="changeWorkspace('Webflow', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpmab2aeRSYdlQ3sVlxIMNqY03iOxWZB6WPA&s')"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpmab2aeRSYdlQ3sVlxIMNqY03iOxWZB6WPA&s" alt="Webflow"> Webflow</div>
                <div onclick="changeWorkspace('Intercom', 'https://cdn.worldvectorlogo.com/logos/intercom-2.svg')"><img src="https://cdn.worldvectorlogo.com/logos/intercom-2.svg" alt="Intercom"> Intercom</div>
            </div>
        </div>
        <!-- Desktop Channel List -->
        <div class="channel-list" id="desktop-channel-list">
            <div class="channel selected">
                <span class="hash-symbol">#</span> product
            </div>
        </div>
        <!-- Mobile Workspace List -->
        <div class="channel-list" id="mobile-workspace-list">
            <div class="channel" onclick="changeWorkspace('Notion', 'https://upload.wikimedia.org/wikipedia/commons/4/45/Notion_app_logo.png'); hideLeftNav();">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Notion_app_logo.png" alt="Notion" style="width: 24px; height: 24px; margin-right: 10px; vertical-align: middle;"> Notion
            </div>
            <div class="channel" onclick="changeWorkspace('Linear', 'https://pageflows.com/media/logos/linear.png'); hideLeftNav();">
                <img src="https://pageflows.com/media/logos/linear.png" alt="Linear" style="width: 24px; height: 24px; margin-right: 10px; vertical-align: middle;"> Linear
            </div>
            <div class="channel" onclick="changeWorkspace('Stripe', 'https://pbs.twimg.com/profile_images/1618575477781807105/iDuRlqTe_400x400.jpg'); hideLeftNav();">
                <img src="https://pbs.twimg.com/profile_images/1618575477781807105/iDuRlqTe_400x400.jpg" alt="Stripe" style="width: 24px; height: 24px; margin-right: 10px; vertical-align: middle;"> Stripe
            </div>
            <div class="channel" onclick="changeWorkspace('Airtable', 'https://cdn.prod.website-files.com/625d41a24ba26520fa739e33/62cb2323b008c0f333f24b82_628d09d1fddf444893db0476_airtable%2520logo.png'); hideLeftNav();">
                <img src="https://cdn.prod.website-files.com/625d41a24ba26520fa739e33/62cb2323b008c0f333f24b82_628d09d1fddf444893db0476_airtable%2520logo.png" alt="Airtable" style="width: 24px; height: 24px; margin-right: 10px; vertical-align: middle;"> Airtable
            </div>
            <div class="channel" onclick="changeWorkspace('Figma', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSoUX5LMRa7atIsNfl0nP3DaUaV4URhV0PHfA&s'); hideLeftNav();">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSoUX5LMRa7atIsNfl0nP3DaUaV4URhV0PHfA&s" alt="Figma" style="width: 24px; height: 24px; margin-right: 10px; vertical-align: middle;"> Figma
            </div>
            <div class="channel" onclick="changeWorkspace('Webflow', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpmab2aeRSYdlQ3sVlxIMNqY03iOxWZB6WPA&s'); hideLeftNav();">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpmab2aeRSYdlQ3sVlxIMNqY03iOxWZB6WPA&s" alt="Webflow" style="width: 24px; height: 24px; margin-right: 10px; vertical-align: middle;"> Webflow
            </div>
            <div class="channel" onclick="changeWorkspace('Intercom', 'https://cdn.worldvectorlogo.com/logos/intercom-2.svg'); hideLeftNav();">
                <img src="https://cdn.worldvectorlogo.com/logos/intercom-2.svg" alt="Intercom" style="width: 24px; height: 24px; margin-right: 10px; vertical-align: middle;"> Intercom
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div id="main-content">
        <div class="channel-info" id="channel-info">
            <span class="material-symbols-outlined back-arrow" onclick="showLeftNav()">arrow_back_ios_new</span>
            <div class="channel-title">
                <span class="hash-symbol">#</span> product
            </div>
            <div class="channel-description">AI-generated fan fiction of Notion’s product channel. Select another company from the top left corner.</div>
            <div class="member-thumbnails">
                <img src="https://raw.githubusercontent.com/malenaohl/productchannel/main/Martin%20Thompson.jpeg" alt="Member">
                <img src="https://raw.githubusercontent.com/malenaohl/productchannel/main/Cora%20Lee.jpeg" alt="Member">
                <img src="https://raw.githubusercontent.com/malenaohl/productchannel/main/Felix%20Reyes.jpeg" alt="Member">
                <span class="member-count">28</span>
            </div>
        </div>
        <div class="date-divider" id="date-divider">
            <div class="horizontal-line"></div>
            <span>Tuesday, October 16</span>
        </div>
        <div id="messages-container">
            <!-- Messages will be dynamically inserted here -->
        </div>
        <div class="pinned-message">
            Only AI can post in this channel. <a href="#" onclick="openModal()">Learn more</a>
        </div>
    </div>
    
    <div id="drawer">
        <span class="material-symbols-outlined drawer-back-arrow" onclick="closeDrawer()">arrow_back_ios_new</span>
        <span class="material-symbols-outlined close-drawer" onclick="closeDrawer()">close</span>
        <img src="https://raw.githubusercontent.com/malenaohl/productchannel/main/Martin%20Thompson.png" alt="Profile Picture" class="profile-picture">
        <div class="profile-name">Martin Thompson</div>
        <div class="bio">Senior Product Manager</div>
        <div class="status">Status: Away</div>
    </div>

    <div class="modal" id="learn-more-modal" onclick="closeModal(event)">
        <div class="modal-content">
            <span class="material-symbols-outlined close-modal" onclick="closeModal(event)">close</span>
            <img src="https://raw.githubusercontent.com/malenaohl/productchannel/main/Robot%20Talking.jpeg" alt="Robot Talking" style="width: 250px; height: auto; margin-bottom: 14px; margin-top: 5px; border-radius: 8px;">
            <p>These messages were AI-generated for entertainment purposes only and are not affiliated with any brands or products mentioned.</p>
        </div>
    </div>

    <script>
        const teamMembers = {
            'Martin Thompson': {
                'title': 'Senior Product Manager',
                'profilePic': 'https://raw.githubusercontent.com/malenaohl/productchannel/main/Martin%20Thompson.png'
            },
            'Vince Brenner': {
                'title': 'Engineering Manager',
                'profilePic': 'https://raw.githubusercontent.com/malenaohl/productchannel/main/Vince%20Brenner.jpeg'
            },
            'Cora Lee': {
                'title': 'Product Designer',
                'profilePic': 'https://raw.githubusercontent.com/malenaohl/productchannel/main/Cora%20Lee.jpeg'
            },
            'Lauren Chen': {
                'title': 'Product Manager',
                'profilePic': 'https://raw.githubusercontent.com/malenaohl/productchannel/main/Lauren%20Chen.jpeg'
            },
            'Felix Reyes': {
                'title': 'Software Engineer',
                'profilePic': 'https://raw.githubusercontent.com/malenaohl/productchannel/main/Felix%20Reyes.jpeg'
            },
            'Rahul Singh': {
                'title': 'Tech Lead',
                'profilePic': 'https://raw.githubusercontent.com/malenaohl/productchannel/main/Rahul%20Singh.jpeg'
            },
            'Dan Redman': {
                'title': 'VP of Product',
                'profilePic': 'https://raw.githubusercontent.com/malenaohl/productchannel/main/Dan%20Redman.jpeg'
            }
        };

        const workspaces = {
            'Notion': {
                'channelDescription': "AI imagines Notion’s product channel. Choose another company from the top left.",
                'messages': [
                                            {
                        'author': 'Lauren Chen',
                        'time': '11:21 AM',
                        'text': "heads up - seeing a pattern in user research around search results from connected apps\nmost users spending like 3 hours a day just searching for info across slack and google drive",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '11:22 AM',
                        'text': "yeah watched a user try to piece together project context yesterday\nhad to jump between notion docs, old slide decks, and slack threads\ngave up halfway through",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '11:23 AM',
                        'text': "feels like we could solve this with the AI chat\nlet users ask natural questions like \"what's the latest on project x?\" and pull relevant info from all sources",
                        'reactions': [{'emoji': '💡', 'count': 1}]
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '11:24 AM',
                        'text': "could stream results like the other AI tools do\nstart with notion content immediately\nthen bring in slack/gdrive as they load",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '11:25 AM',
                        'text': "would need solid permission handling though\nmake sure we're respecting access rights across all connected apps",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '11:26 AM',
                        'text': "nice - perfect for project updates\nlike \"catch me up on the mobile app redesign\" and it'll pull from specs in notion + relevant slack threads",
                        'reactions': [{'emoji': '🚀', 'count': 1}]
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '11:27 AM',
                        'text': "we should make it super clear which sources the AI is pulling from\nand let people click through to the original convos/docs",
                        'reactions': []
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '11:28 AM',
                        'text': "this could be huge for reducing meeting load\ncatch up on projects through chat instead of sitting in update meetings",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '11:29 AM',
                        'text': "starting on the prototypes\n@Rahul want to sync on permissions model tomorrow?",
                        'reactions': []
                    }
                ]
            },
            'Linear': {
                'channelDescription': "AI imagines Linear's product channel. Choose another company from the top left.",
                'messages': [
                    {
                        'author': 'Martin Thompson',
                        'time': '09:14 AM',
                        'text': "hey team, wanted to get some quick feedback on the doc subscriptions feature we're working on 🤔\nthinking we should make it so everyone on the team gets auto-subscribed to all project docs by default. that way no one misses anything important",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '09:15 AM',
                        'text': "wait wouldn't that create a ton of noise though?\nlike if i'm not involved in the design system project, do i need updates about their discovery docs?",
                        'reactions': []
                    },
                    {
                        'author': 'Vince Brenner',
                        'time': '09:16 AM',
                        'text': "+1 to Lauren's concern. we'd need to build some pretty robust notification filtering\nthe engineering effort to handle that scale of notifications properly would be significant",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '09:17 AM',
                        'text': "from a design perspective, i'm worried about notification fatigue\nusers already get a lot of notifications from issues and comments. adding every doc update could push people to just ignore everything",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '09:18 AM',
                        'text': "actually building off what Cora said\nwe could do something smarter with the auto-subscribe logic\nlike maybe only auto-subscribe people who are actually involved with the project? 🤔",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '09:19 AM',
                        'text': "that makes more sense technically too\nwe already have the project member/lead relationships in the data model\nwould be pretty straightforward to use those",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '09:20 AM',
                        'text': "ok yeah i see what you mean about the noise\nwhat if we did:\n\n• auto-subscribe doc creator\n• auto-subscribe project leads/members for project docs\n• auto-subscribe initiative owner for initiative docs",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '09:21 AM',
                        'text': "that feels more targeted 👍\nbut we should also let people manually subscribe others right?\nlike if i make a discovery doc i might want to add the designer even if they're not officially on the project yet",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '09:22 AM',
                        'text': "yes! and make it super obvious how to manage subscriptions\nmaybe a bell icon at the top of every doc?",
                        'reactions': []
                    },
                    {
                        'author': 'Vince Brenner',
                        'time': '09:23 AM',
                        'text': "@Dan Redman what do you think about this direction?\nauto-subscribe based on relevant roles + manual subscription options?",
                        'reactions': []
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '09:25 AM',
                        'text': "love where this landed. much better than blanket subscriptions\nlet's also make sure we notify on:\n\n• content changes\n• comments/replies\n• moves/deletions\n\nthose feel like the key events people need to know about",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '09:26 AM',
                        'text': "perfect, this is way more scalable than my original idea 😅\ni'll update the spec with this approach",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '09:26 AM',
                        'text': "sweet, this'll be way easier to implement than the \"everyone gets everything\" approach 🙌",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '09:27 AM',
                        'text': "yep, we can get started on this. will create the tasks today 💪",
                        'reactions': []
                    }
                ]
            },
            'Stripe': {
                'channelDescription': "AI imagines Stripe’s product channel. Choose another company from the top left.",
                'messages': [
                    {
                        'author': 'Martin Thompson',
                        'time': '10:03 AM',
                        'text': "team, looking for input on the invoice grace period feature implementation\ncurrent proposal: single global grace period setting that applies to all invoices\nseems simpler to implement and explain to users",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '10:04 AM',
                        'text': "i've been talking to some of our larger customers about this\nthey actually need different grace periods for different types of usage\nespecially ones with both subscription and usage-based billing",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '10:05 AM',
                        'text': "that's an interesting point Lauren\nwe'd need to consider how grace periods interact with subscription cycles too\nif someone sets a 72hr grace period on a daily subscription, they could end up with overlapping billing periods 🤔",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '10:06 AM',
                        'text': "definitely need to prevent that edge case\nwe could add validation to ensure grace period < subscription period",
                        'reactions': []
                    },
                    {
                        'author': 'Vince Brenner',
                        'time': '10:07 AM',
                        'text': "another consideration: webhook failures\nshould we enforce a standard grace period for failed webhook deliveries?\nlonger grace period would give customers time to fix their endpoints",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '10:09 AM',
                        'text': "from the UI side, we need to think about how to make these rules clear in the dashboard\nespecially if we're supporting multiple conditions:\n\n• subscription-based\n• usage-based\n• combination of both",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '10:10 AM',
                        'text': "ok, so maybe instead of a single setting, we need:\n\n• account default (1hr)\n• configurable rules with conditions\n• rule ordering for conflict resolution",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '10:11 AM',
                        'text': "+1 to rule ordering\nsuggestion: for invoices that match multiple rules, we should use the longer grace period\nsafer to give more time than less",
                        'reactions': [{'emoji': '👍', 'count': 2}]
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '10:12 AM',
                        'text': "absolutely agree with Rahul\nalso we should make it clear that first subscription invoice finalizes immediately\nthat's caught a few customers by surprise in beta testing",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '10:13 AM',
                        'text': "implementation note: we'll need to modify the meters API to handle the variable grace periods\nand add validation for the 24hr usage cancellation window",
                        'reactions': []
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '10:14 AM',
                        'text': "important that we get this right. let's move forward with:\n\n• rule-based approach with account default fallback\n• 72hr grace period for webhook failures\n• conservative resolution (longer period wins) for multiple matches\n• clear validation preventing grace period >= subscription period\n\nwe'll need to document regional compliance considerations clearly",
                        'reactions': [{'emoji': '✅', 'count': 1}]
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '10:15 AM',
                        'text': "thanks Dan - will add the compliance section to the spec\nshould we mention the 24hr limit on canceling usage events?",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '10:16 AM',
                        'text': "definitely include that\nand we should emphasize that canceled usage won't trigger correction invoices\nthat's been a common source of confusion",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '10:17 AM',
                        'text': "I'll start breaking down the technical implementation\n@Felix want to pair on the meters API modifications tomorrow?",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '10:17 AM',
                        'text': "👍 blocked off my morning for it",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '10:18 AM',
                        'text': "working on the dashboard UI flows now\nwill share mockups in the design review tomorrow",
                        'reactions': []
                    }
                ]
            },
           'Airtable': {
                'channelDescription': "AI imagines Airtable’s product channel. Choose another company from the top left.",
                'messages': [
                    {
                        'author': 'Cora Lee',
                        'time': '2:15 PM',
                        'text': "need some eyes on the ProductCentral feedback from our enterprise beta\ncustomers love the feedback collection but they're struggling to understand release impact\nthey can't easily see if their changes are actually improving things",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '2:16 PM',
                        'text': "makes sense - right now they'd have to manually correlate release dates with feedback\nare they asking for something more automated?",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '2:17 PM',
                        'text': "yeah exactly\nthey want to see how feedback changes after releases\nlike \"did our UI refresh actually reduce confusion complaints\" or \"did the new onboarding help with setup issues\"",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '2:18 PM',
                        'text': "thinking we could show feedback themes as line charts with release markers\nwould help teams see if their changes are actually moving the needle",
                        'reactions': [{'emoji': '📈', 'count': 1}]
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '2:19 PM',
                        'text': "we'll need good theme detection and volume normalization\nespecially for customers pulling in tons of zendesk tickets",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '2:20 PM',
                        'text': "we can adapt our existing ML pipeline for themes\nbut might want to cache sentiment calculations, gets expensive at scale",
                        'reactions': []
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '2:21 PM',
                        'text': "how are we thinking about surfacing the sentiment data?",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '2:22 PM',
                        'text': "small indicator above the chart showing positive/neutral/negative split with trend arrows\nkeeps it scannable for product teams",
                        'reactions': [{'emoji': '👍', 'count': 1}]
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '2:23 PM',
                        'text': "chase from netflix would love this - updating the launch deck to feature it more prominently\nwant to help me test it with a few more enterprise customers next week?",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '2:24 PM',
                        'text': "yes please - will set up some calls",
                        'reactions': []
                    }
                ]
            },
               'Figma': {
                'channelDescription': "AI imagines Figma’s product channel. Choose another company from the top left.",
                'messages': [
                    {
                        'author': 'Felix Reyes',
                        'time': '3:45 PM',
                        'text': "hey team, we need to talk about security for embedkit 2.0\nwith all the new browser privacy changes (ITP, Privacy Sandbox), our current embed auth approach isn't future-proof\nseeing issues in our beta where embeds break in some privacy-focused browsers 🚨",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '3:46 PM',
                        'text': "yeah, been looking into this\nthird-party cookies are basically dying\nwe need a more robust auth solution that works with Storage Access API",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '3:47 PM',
                        'text': "how many customers are impacted by this?\nespecially concerned about our enterprise customers who embed figma in their internal tools",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '3:48 PM',
                        'text': "just checked the data\n~15% of embed loads are failing in safari\nexpect this to get worse as chrome rolls out similar changes",
                        'reactions': []
                    },
                    {
                        'author': 'Vince Brenner',
                        'time': '3:49 PM',
                        'text': "we could use the Storage Access API\nbut that means we need to restructure how embeds handle auth\nalso thinking we should require origin registration for prototype embeds",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '3:50 PM',
                        'text': "exactly what i was thinking\nif we require oauth apps to register allowed origins\nwe can prevent prototype events from leaking to unknown domains",
                        'reactions': [{'emoji': '👍', 'count': 2}]
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '3:51 PM',
                        'text': "from a UI perspective, we need to make origin registration super clear\nespecially since it's a new requirement\ncould we add an origins section to the oauth app dashboard?",
                        'reactions': []
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '3:52 PM',
                        'text': "this feels like the right direction\nsecurity has to be rock solid, especially for enterprise\nwe can use this as an opportunity to clean up our embed architecture too",
                        'reactions': [{'emoji': '🔒', 'count': 1}]
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '3:53 PM',
                        'text': "should we grandfather existing embeds?\nor set a migration deadline?",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '3:54 PM',
                        'text': "recommend migration deadline for prototype embeds\nsimple file embeds can stay on v1 indefinitely\nbut prototype message passing needs the new security model",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '3:55 PM',
                        'text': "+1 to that split approach\nalso thinking we should move to embed.figma.com domain\nmakes it clearer these are v2 embeds",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '3:56 PM',
                        'text': "what's our migration timeline looking like?\nneed to give customers enough heads up",
                        'reactions': []
                    },
                    {
                        'author': 'Vince Brenner',
                        'time': '3:57 PM',
                        'text': "looking at browser roadmaps\nsuggest Dec 5th deadline\nthat's before the major privacy changes ship",
                        'reactions': [{'emoji': '📅', 'count': 1}]
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '3:58 PM',
                        'text': "we should make the migration path super clear in the docs\nmaybe even build a migration helper tool?",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '3:59 PM',
                        'text': "love that idea\ncould detect v1 embeds and generate v2 equivalent code",
                        'reactions': []
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '4:00 PM',
                        'text': "great discussion everyone. let's move forward with:\n\n• new embed.figma.com domain\n• Storage Access API support\n• required origin registration for prototypes\n• Dec 5th deadline for prototype embeds\n• migration helper tool",
                        'reactions': [{'emoji': '✅', 'count': 1}]
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '4:01 PM',
                        'text': "i'll start on the Storage Access API integration\n@Rahul want to pair on the origin validation logic?",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '4:01 PM',
                        'text': "👍 blocked off tomorrow morning",
                        'reactions': []
                    }
                ]
            },

                'Webflow': {
                'channelDescription': "AI imagines Webflow's product channel. Choose another company from the top left.",
                'messages': [
                    {
                        'author': 'Martin Thompson',
                        'time': '1:15 PM',
                        'text': "hey team - need input on the forms revamp\nbeen diving into feedback from our enterprise customers\nbig theme: they want more control without leaving the designer\nalso lots of requests for better bot protection that doesn't kill conversion rates",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '1:16 PM',
                        'text': "yeah the context switching between designer and dashboard is a huge pain point\nespecially for marketing teams managing multiple sites\nsaw this come up in our last few user interviews",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '1:17 PM',
                        'text': "we could bring everything into a unified form settings panel in the designer\ntabs for connections, notifications, security etc\nwould make it way easier to see everything at once",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '1:18 PM',
                        'text': "for bot prevention, we could do something smart with browser fingerprinting and behavior analysis\nthrow in some hidden honeypot fields too\nand do it all without those annoying captchas",
                        'reactions': [{'emoji': '🚫', 'count': 1}]
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '1:19 PM',
                        'text': "we could also use our existing site traffic patterns to detect unusual submission behavior\nlike if we see weird patterns from an IP or browser fingerprint, we increase security automatically",
                        'reactions': []
                    },
                    {
                        'author': 'Vince Brenner',
                        'time': '1:20 PM',
                        'text': "+1 to adaptive security\nbut we need to be careful about false positives\nmaybe add an option for customers to review blocked submissions?",
                        'reactions': [{'emoji': '👍', 'count': 2}]
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '1:21 PM',
                        'text': "really like where this is headed\nbringing everything into the designer just makes sense\nplus the bot prevention approach feels solid",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '1:22 PM',
                        'text': "what about connected apps visibility?\nlot of customers don't realize their forms are connected to multiple places\nleads to duplicate data and confusion",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '1:23 PM',
                        'text': "what if we added a visual connection map?\ncould show form data flow, field mapping, sync status\nkind of like how we visualize interactions now",
                        'reactions': [{'emoji': '💡', 'count': 1}]
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '1:24 PM',
                        'text': "that would work really well with the new APIs\nwe could show real-time sync status and let users fix mapping issues right there in the interface",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '1:25 PM',
                        'text': "also thinking about our logicflow customers\nthey often need different form settings for different conditions\nshould we support that?",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '1:26 PM',
                        'text': "definitely doable\nwe could extend the logic system for conditional notifications, dynamic mapping, different spam settings\nbut it would take some work to get right",
                        'reactions': []
                    },
                    {
                        'author': 'Vince Brenner',
                        'time': '1:27 PM',
                        'text': "we'd need to think about the performance impact\nespecially for sites with lots of forms and complex logic",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '1:28 PM',
                        'text': "what if we start with the unified settings panel and bot prevention for v1\nthen tackle conditional logic in phase 2?\nfeels like that would solve the most pressing pain points",
                        'reactions': [{'emoji': '🎯', 'count': 1}]
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '1:29 PM',
                        'text': "agreed - let's get the unified settings, bot prevention, and app connections solid first\nwe can tackle the conditional stuff and more advanced features after that",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '1:30 PM',
                        'text': "i'll start on the settings panel designs\nthinking we can use our new component system to make it feel native",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '1:31 PM',
                        'text': "cool, i'll work on the bot prevention poc\nwill share some tests comparing different approaches",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '1:32 PM',
                        'text': "sounds good, i'll update the spec\nshould we do a proper customer beta for this one?",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '1:33 PM',
                        'text': "definitely - already have a few enterprise customers asking to test\nespecially the bot prevention features",
                        'reactions': [{'emoji': '🚀', 'count': 1}]
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '1:33 PM',
                        'text': "sounds good\ni'll start on the api extensions for better app integrations",
                        'reactions': []
                    }
                ]
            },
                'Intercom': {
                'channelDescription': "AI imagines Intercom's product channel. Choose another company from the top left.",
                'messages': [
                    {
                        'author': 'Dan Redman',
                        'time': '2:45 PM',
                        'text': "just came from a call with our biggest enterprise customer\nthey're struggling to understand the combined impact of human + AI support\nespecially now that Fin is handling more conversations\nthink this new overview report could be a game changer for support leads",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '2:46 PM',
                        'text': "100% - been hearing this from other customers too\nthey keep asking how to prove the ROI of Fin to their leadership\nand right now it's super manual to piece that data together",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '2:47 PM',
                        'text': "the sankey chart showing the conversation flow is going to help a lot with that\nmakes it really obvious where volume is going and what's actually getting resolved",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '2:48 PM',
                        'text': "yeah though we need to be careful about cognitive load\nthere's a lot of data to show and these support leads are usually context switching between meetings",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '2:49 PM',
                        'text': "heads up on the sankey - we're seeing some perf issues when customers have huge conversation volumes\nmight need to add some date range limits or sampling for mega customers",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '2:50 PM',
                        'text': "we could cache the heavy calculations\nupdate them hourly instead of real-time\nmost of these metrics don't need to be up-to-the-minute anyway",
                        'reactions': [{'emoji': '👍', 'count': 2}]
                    },
                    {
                        'author': 'Vince Brenner',
                        'time': '2:51 PM',
                        'text': "yeah and we should probably think about data retention\nespecially for those year-over-year comparisons\nstorage costs could get wild at scale",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '2:52 PM',
                        'text': "what if we defaulted to showing last 30 days\nbut let them expand to longer ranges if they want?\nthat's what most customers look at anyway",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '2:53 PM',
                        'text': "going to need a really clear way to show when data is cached vs real-time\nsupport teams get antsy when numbers don't match across different screens",
                        'reactions': []
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '2:54 PM',
                        'text': "speaking of matching numbers\nwe need to decide how to handle the old overview report transition\nlots of customers have built processes around those metrics",
                        'reactions': []
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '2:55 PM',
                        'text': "let's keep both reports running for a bit\nbut make it clear the old one's going away\ngive customers time to update their workflows",
                        'reactions': []
                    },
                    {
                        'author': 'Felix Reyes',
                        'time': '2:56 PM',
                        'text': "could we add an export option?\nsome customers might want to pull this data into their own dashboards",
                        'reactions': []
                    },
                    {
                        'author': 'Rahul Singh',
                        'time': '2:57 PM',
                        'text': "yeah we could expose this through the analytics api\nalready have most of the endpoints we need\njust need to add the new Fin metrics",
                        'reactions': []
                    },
                    {
                        'author': 'Cora Lee',
                        'time': '2:58 PM',
                        'text': "i can mock up some education tooltips for the new metrics\nespecially around how Fin's resolution rate is calculated\nthat's been confusing in user testing",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '2:59 PM',
                        'text': "good call - and we should probably do some webinars for this launch\nit's a pretty big change to how they'll analyze their support ops",
                        'reactions': []
                    },
                    {
                        'author': 'Dan Redman',
                        'time': '3:00 PM',
                        'text': "alright, sounds like we're aligned on:\n\n• ship with 30 day default\n• cached data for big customers\n• keep old report temporarily\n• add export options\n• focus on education",
                        'reactions': [{'emoji': '✅', 'count': 1}]
                    },
                    {
                        'author': 'Martin Thompson',
                        'time': '3:01 PM',
                        'text': "perfect, i'll update the launch plan\n@Lauren want to work on the webinar content?",
                        'reactions': []
                    },
                    {
                        'author': 'Lauren Chen',
                        'time': '3:01 PM',
                        'text': "yep, already started an outline\nwill share it later today",
                        'reactions': []
                    }
                ]
            },
        };

        function openDrawer(name) {
            const profilePicture = document.querySelector('.profile-picture');
            const profileName = document.querySelector('.profile-name');
            const profileBio = document.querySelector('.bio');
            const profileStatus = document.querySelector('.status');

            profilePicture.src = teamMembers[name].profilePic;
            profileName.textContent = name;
            profileBio.textContent = teamMembers[name].title;
            profileStatus.textContent = 'Status: Away';

            if (window.innerWidth <= 768) {
                // Mobile: show drawer as full page
                document.getElementById('drawer').style.width = '100%';
            } else {
                document.getElementById('drawer').style.width = '350px';
            }
            document.getElementById('drawer').classList.add('open');
            document.getElementById('main-content').classList.add('drawer-open');
        }
        function closeDrawer() {
            document.getElementById('drawer').classList.remove('open');
            document.getElementById('main-content').classList.remove('drawer-open');
        }

        function openModal() {
            document.getElementById('learn-more-modal').style.display = 'flex';
        }
        function closeModal(event) {
            if (!event || event.target === document.getElementById('learn-more-modal') || event.target.classList.contains('close-modal')) {
                document.getElementById('learn-more-modal').style.display = 'none';
            }
        }

        document.getElementById('main-content').addEventListener('scroll', function () {
            const channelInfo = document.getElementById('channel-info');
            const dateDivider = document.getElementById('date-divider');
            const dateDividerPosition = dateDivider.getBoundingClientRect().top;
            const mainContentPosition = document.getElementById('main-content').getBoundingClientRect().top;

            if (dateDividerPosition < mainContentPosition + 55) {
                channelInfo.classList.add('scrolled');
            } else {
                channelInfo.classList.remove('scrolled');
            }
        });

        function showLeftNav() {
            document.getElementById('left-nav').classList.add('show');
        }

        function hideLeftNav() {
            document.getElementById('left-nav').classList.remove('show');
        }

        const workspaceSelector = document.getElementById('workspace-selector');
        const workspaceDropdown = document.getElementById('workspace-dropdown');

        workspaceSelector.addEventListener('mouseover', function() {
            workspaceDropdown.style.display = 'block';
        });

        workspaceSelector.addEventListener('mouseout', function(event) {
            const rect = workspaceDropdown.getBoundingClientRect();
            if (event.clientY > rect.bottom || event.clientX < rect.left || event.clientX > rect.right) {
                workspaceDropdown.style.display = 'none';
            }
        });

        workspaceDropdown.addEventListener('mouseleave', function(event) {
            workspaceDropdown.style.display = 'none';
        });

        workspaceDropdown.addEventListener('mouseleave', function(event) {
            workspaceDropdown.style.display = 'none';
        });

        function changeWorkspace(name, imgSrc) {
            document.querySelector('.workspace-title').textContent = name;
            document.querySelector('.workspace-selector img').src = imgSrc;
            workspaceDropdown.style.display = 'none';

            // Update channel description
            document.querySelector('.channel-description').textContent = workspaces[name].channelDescription;

            // Update messages
            const messagesContainer = document.getElementById('messages-container');
            messagesContainer.innerHTML = ''; // Clear previous messages

            const messages = workspaces[name].messages;
            messages.forEach(message => {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message';

                const profilePic = document.createElement('img');
                profilePic.className = 'profile-pic';
                profilePic.src = teamMembers[message.author].profilePic;
                profilePic.alt = 'Profile';
                profilePic.onclick = function() { openDrawer(message.author); };

                const messageContent = document.createElement('div');
                messageContent.className = 'message-content';

                const messageAuthor = document.createElement('div');
                messageAuthor.className = 'message-author';
                messageAuthor.onclick = function() { openDrawer(message.author); };
                messageAuthor.textContent = message.author;

                const timeStamp = document.createElement('span');
                timeStamp.className = 'time-stamp';
                timeStamp.textContent = message.time;
                messageAuthor.appendChild(timeStamp);

                const messageText = document.createElement('div');
                messageText.className = 'message-text';

                 // Handle mentions and line breaks
                let textWithLineBreaks = message.text.replace(/\n/g, '<br>');

                const mentionRegex = /@([A-Za-z0-9\.'\-\s]+)/g;

                textWithLineBreaks = textWithLineBreaks.replace(mentionRegex, function(match, p1) {
                    const extractedText = p1.trim();
                    const teamMemberNames = Object.keys(teamMembers);
                    let foundName = null;
                    let matchLength = 0;

                    // Try to find a match by full name first
                    for (let i = 0; i < teamMemberNames.length; i++) {
                        const teamMemberName = teamMemberNames[i];
                        if (extractedText.startsWith(teamMemberName)) {
                            foundName = teamMemberName;
                            matchLength = teamMemberName.length;
                            break;
                        }
                    }

                    // If no match by full name, try to match by first name
                    if (!foundName) {
                        for (let i = 0; i < teamMemberNames.length; i++) {
                            const teamMemberName = teamMemberNames[i];
                            const firstName = teamMemberName.split(' ')[0];
                            if (extractedText.startsWith(firstName)) {
                                foundName = teamMemberName;
                                matchLength = firstName.length;
                                break;
                            }
                        }
                    }

                    if (foundName) {
                        const safeName = foundName.replace(/'/g, "\\'");
                        const restOfText = extractedText.substring(matchLength);
                        return `<a href="#" class="mention" onclick="openDrawer('${safeName}'); return false;">@${extractedText.substring(0, matchLength)}</a>${restOfText}`;
                    } else {
                        return match;
                    }
                });

                messageText.innerHTML = textWithLineBreaks;

                messageContent.appendChild(messageAuthor);
                messageContent.appendChild(messageText);

                // Add reactions if any
                if (message.reactions && message.reactions.length > 0) {
                    const reactionsDiv = document.createElement('div');
                    reactionsDiv.className = 'reactions';

                    message.reactions.forEach(reaction => {
                        const reactionDiv = document.createElement('div');
                        reactionDiv.className = 'reaction';

                        const emojiSpan = document.createElement('span');
                        emojiSpan.className = 'emoji';
                        emojiSpan.textContent = reaction.emoji;

                        const countSpan = document.createElement('span');
                        countSpan.className = 'count';
                        countSpan.textContent = reaction.count;

                        reactionDiv.appendChild(emojiSpan);
                        reactionDiv.appendChild(countSpan);

                        reactionsDiv.appendChild(reactionDiv);
                    });

                    messageContent.appendChild(reactionsDiv);
                }

                messageDiv.appendChild(profilePic);
                messageDiv.appendChild(messageContent);

                messagesContainer.appendChild(messageDiv);
            });

            // Hide left nav on mobile after changing workspace
            if (window.innerWidth <= 768) {
                hideLeftNav();
            }
        }

        window.onload = function() {
            changeWorkspace('Notion', 'https://upload.wikimedia.org/wikipedia/commons/4/45/Notion_app_logo.png');
        };
    </script>
</body>
</html>
